let iconMenu=document.querySelector(".icon-menu"),menuBodyLock=document.querySelector("body"),menuBody=document.querySelector(".menu__body");iconMenu&&iconMenu.addEventListener("click",(function(){iconMenu.classList.toggle("active"),menuBodyLock.classList.toggle("lock"),menuBody.classList.toggle("active")}));const popupLinks=document.querySelectorAll(".popup-link"),body=document.querySelector("body"),lockPadding=document.querySelectorAll(".lock-padding");let unlock=!0;const timeout=800;if(popupLinks.length>0)for(let e=0;e<popupLinks.length;e++){const t=popupLinks[e];t.addEventListener("click",(function(e){const o=t.getAttribute("href").replace("#","");popupOpen(document.getElementById(o)),e.preventDefault()}))}const popupCloseIcon=document.querySelectorAll(".popup__close");if(popupCloseIcon.length>0)for(let e=0;e<popupCloseIcon.length;e++){const t=popupCloseIcon[e];t.addEventListener("click",(function(e){popupClose(t.closest(".popup")),e.preventDefault()}))}function popupOpen(e){if(e&&unlock){const t=document.querySelector(".popup.open");t?popupClose(t,!1):bodyLock(),e.classList.add("open")}}function popupClose(e,t=!0){unlock&&(e.classList.remove("open"),t&&bodyUnlock())}function bodyLock(){const e=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px";if(lockPadding.length>0)for(let t=0;t<lockPadding.length;t++){lockPadding[t].style.paddingRight=e}body.style.paddingRight=e,body.classList.add("lock"),unlock=!1,setTimeout((function(){unlock=!0}),800)}function bodyUnlock(){const e=document.querySelector(".icon-menu");setTimeout((function(){if(lockPadding.length>0)for(let e=0;e<lockPadding.length;e++){lockPadding[e].style.paddingRight="0px"}body.style.paddingRight="0px",e.classList.contains(".active")||body.classList.remove("lock")}),800),unlock=!1,setTimeout((function(){unlock=!0}),800)}document.addEventListener("keydown",(function(e){if(27===e.which){popupClose(document.querySelector(".popup.open"))}})),document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("form"),t=document.querySelector(".popup__content");function o(e){e.parentElement.classList.add("_error"),e.classList.add("_error")}function n(e){e.parentElement.classList.remove("_error"),e.classList.remove("_error")}function c(e){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.value)}e.addEventListener("submit",(async function(l){l.preventDefault();let s=function(e){let t=0,l=document.querySelectorAll("._req");for(let e=0;e<l.length;e++){const s=l[e];n(s),s.classList.contains("_email")?c(s)&&(o(s),t++):("checkbox"===s.getAttribute("type")&&!1===s.checked||""===s.value)&&(o(s),t++)}return t}(),i=new FormData(e);if(0===s){t.classList.add("_sending");let o=await fetch("sendmail.php",{method:"POST",body:i});if(o.ok){let n=await o.json();alert(n.message),e.reset(),t.classList.remove("_sending")}else alert("Ошибка! Форма не отправлена!"),t.classList.remove("_sending")}else alert("Заполните обязаьельные поля")}))})),$(document).ready((function(){$("#formTel").mask("+7 (999) 999-99-99")})),$(".slider__body ").length>0&&$(".slider__body ").slick({dots:!1,arrows:!0,accessibility:!1,slidesToShow:1,autoplaySpeed:3e3,nextArrow:'<button type="button" class="slick-next"></button>',prevArrow:'<button type="button" class="slick-prev"></button>',responsive:[{breakpoint:768,settings:{}}]});var slider=$(".slider__body");$(".slider__count-totall").text(slider.slick("getSlick").slideCount),$(".slider__body").on("afterChange",(function(e,t,o){$(".slider__count-current").text(o+1)}));